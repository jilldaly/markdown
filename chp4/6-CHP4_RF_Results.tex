\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={Chp 4 Results - Random Forest},
            pdfauthor={Jill Daly},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{Chp 4 Results - Random Forest}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{Jill Daly}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
      \predate{\centering\large\emph}
  \postdate{\par}
    \date{08 December, 2018}

\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage[table]{xcolor}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}

\begin{document}
\maketitle

\begin{figure}
\centering
\includegraphics{CHP4_RF_Results_files/figure-latex/sensor-fft_z-rf-plot-1.pdf}
\caption{FFT - Z - Model}
\end{figure}

\begin{table}[!h]

\caption{\label{tab:sensor-fft_z-rf-params}FFT - Z - RF Training Model Results}
\centering
\begin{tabular}[t]{rrlrrrrrrrrrrrrrrrrrrrrrrrrrrrr}
\toprule
mtry & min.node.size & splitrule & logLoss & AUC & prAUC & Accuracy & Kappa & Mean\_F1 & Mean\_Sensitivity & Mean\_Specificity & Mean\_Pos\_Pred\_Value & Mean\_Neg\_Pred\_Value & Mean\_Precision & Mean\_Recall & Mean\_Detection\_Rate & Mean\_Balanced\_Accuracy & logLossSD & AUCSD & prAUCSD & AccuracySD & KappaSD & Mean\_F1SD & Mean\_SensitivitySD & Mean\_SpecificitySD & Mean\_Pos\_Pred\_ValueSD & Mean\_Neg\_Pred\_ValueSD & Mean\_PrecisionSD & Mean\_RecallSD & Mean\_Detection\_RateSD & Mean\_Balanced\_AccuracySD\\
\midrule
2 & 1 & gini & 0.4434462 & 0.9529577 & 0.8381501 & 0.8412518 & 0.6919905 & 0.7223393 & 0.6591801 & 0.9166575 & 0.8649754 & 0.9356139 & 0.8649754 & 0.6591801 & 0.2103129 & 0.7879188 & 0.0014198 & 0.0009479 & 0.0026083 & 0.0019599 & 0.0041701 & 0.0032690 & 0.0034290 & 0.0012622 & 0.0035132 & 0.0009035 & 0.0035132 & 0.0034290 & 0.0004900 & 0.0022400\\
2 & 1 & extratrees & 0.4346515 & 0.9658219 & 0.8645812 & 0.8530202 & 0.7164773 & 0.7467129 & 0.6876661 & 0.9230119 & 0.8607534 & 0.9409731 & 0.8607534 & 0.6876661 & 0.2132551 & 0.8053390 & 0.0015678 & 0.0005582 & 0.0021200 & 0.0016407 & 0.0031606 & 0.0030562 & 0.0031566 & 0.0008081 & 0.0038411 & 0.0009269 & 0.0038411 & 0.0031566 & 0.0004102 & 0.0018730\\
3 & 1 & gini & 0.3689802 & 0.9658583 & 0.8556443 & 0.8686837 & 0.7512539 & 0.7886476 & 0.7390953 & 0.9335979 & 0.8683931 & 0.9453678 & 0.8683931 & 0.7390953 & 0.2171709 & 0.8363466 & 0.0029764 & 0.0009166 & 0.0034016 & 0.0014662 & 0.0029638 & 0.0036525 & 0.0042409 & 0.0008657 & 0.0034436 & 0.0006312 & 0.0034436 & 0.0042409 & 0.0003666 & 0.0025004\\
3 & 1 & extratrees & 0.3886353 & 0.9712290 & 0.8757479 & 0.8683661 & 0.7508291 & 0.7893794 & 0.7429071 & 0.9335125 & 0.8611360 & 0.9453602 & 0.8611360 & 0.7429071 & 0.2170915 & 0.8382098 & 0.0020390 & 0.0006654 & 0.0016673 & 0.0013190 & 0.0025400 & 0.0018253 & 0.0028430 & 0.0007916 & 0.0023789 & 0.0007754 & 0.0023789 & 0.0028430 & 0.0003297 & 0.0017030\\
5 & 1 & gini & 0.3697283 & 0.9675587 & 0.6709228 & 0.8746165 & 0.7660081 & 0.8092365 & 0.7776302 & 0.9389872 & 0.8501537 & 0.9460946 & 0.8501537 & 0.7776302 & 0.2186541 & 0.8583087 & 0.0085229 & 0.0006467 & 0.0080882 & 0.0013468 & 0.0027089 & 0.0025576 & 0.0039192 & 0.0008781 & 0.0028332 & 0.0006127 & 0.0028332 & 0.0039192 & 0.0003367 & 0.0023356\\
5 & 1 & extratrees & 0.3584841 & 0.9729969 & 0.8448386 & 0.8724464 & 0.7612233 & 0.8064670 & 0.7719619 & 0.9373835 & 0.8527918 & 0.9456636 & 0.8527918 & 0.7719619 & 0.2181116 & 0.8546727 & 0.0032266 & 0.0007656 & 0.0035585 & 0.0017180 & 0.0030966 & 0.0025002 & 0.0035195 & 0.0007688 & 0.0031939 & 0.0009927 & 0.0031939 & 0.0035195 & 0.0004295 & 0.0020733\\
\bottomrule
\end{tabular}
\end{table}

\begin{verbatim}
## Ranger result
## 
## Call:
##  ranger::ranger(dependent.variable.name = ".outcome", data = x,      mtry = param$mtry, min.node.size = param$min.node.size, splitrule = as.character(param$splitrule),      write.forest = TRUE, probability = classProbs, ...) 
## 
## Type:                             Probability estimation 
## Number of trees:                  500 
## Sample size:                      226047 
## Number of independent variables:  5 
## Mtry:                             5 
## Target node size:                 1 
## Variable importance mode:         none 
## Splitrule:                        extratrees 
## OOB prediction error (Brier s.):  0.06484079
\end{verbatim}

\begin{verbatim}
## Random Forest 
## 
## 226047 samples
##      5 predictor
##      4 classes: 'PATH_IDLE', 'PATH_MOVING', 'PATH_TRANSITION', 'SHUTTLE' 
## 
## Pre-processing: nearest neighbor imputation (5), centered (5), scaled (5) 
## Resampling: Bootstrapped (10 reps) 
## Summary of sample sizes: 22605, 22605, 22604, 22605, 22605, 22605, ... 
## Resampling results across tuning parameters:
## 
##   mtry  splitrule   logLoss    AUC        prAUC      Accuracy   Kappa    
##   2     gini        0.4434462  0.9529577  0.8381501  0.8412518  0.6919905
##   2     extratrees  0.4346515  0.9658219  0.8645812  0.8530202  0.7164773
##   3     gini        0.3689802  0.9658583  0.8556443  0.8686837  0.7512539
##   3     extratrees  0.3886353  0.9712290  0.8757479  0.8683661  0.7508291
##   5     gini        0.3697283  0.9675587  0.6709228  0.8746165  0.7660081
##   5     extratrees  0.3584841  0.9729969  0.8448386  0.8724464  0.7612233
##   Mean_F1    Mean_Sensitivity  Mean_Specificity  Mean_Pos_Pred_Value
##   0.7223393  0.6591801         0.9166575         0.8649754          
##   0.7467129  0.6876661         0.9230119         0.8607534          
##   0.7886476  0.7390953         0.9335979         0.8683931          
##   0.7893794  0.7429071         0.9335125         0.8611360          
##   0.8092365  0.7776302         0.9389872         0.8501537          
##   0.8064670  0.7719619         0.9373835         0.8527918          
##   Mean_Neg_Pred_Value  Mean_Precision  Mean_Recall  Mean_Detection_Rate
##   0.9356139            0.8649754       0.6591801    0.2103129          
##   0.9409731            0.8607534       0.6876661    0.2132551          
##   0.9453678            0.8683931       0.7390953    0.2171709          
##   0.9453602            0.8611360       0.7429071    0.2170915          
##   0.9460946            0.8501537       0.7776302    0.2186541          
##   0.9456636            0.8527918       0.7719619    0.2181116          
##   Mean_Balanced_Accuracy
##   0.7879188             
##   0.8053390             
##   0.8363466             
##   0.8382098             
##   0.8583087             
##   0.8546727             
## 
## Tuning parameter 'min.node.size' was held constant at a value of 1
## logLoss was used to select the optimal model using the smallest value.
## The final values used for the model were mtry = 5, splitrule =
##  extratrees and min.node.size = 1.
\end{verbatim}

\begin{table}[!h]

\caption{\label{tab:sensor-fft_z-rf-results}FFT - Z - Validation Accuracy}
\centering
\begin{tabular}[t]{lr}
\toprule
  & x\\
\midrule
Accuracy & 0.8613253\\
\bottomrule
\end{tabular}
\end{table}

\begin{table}[!h]

\caption{\label{tab:sensor-fft_z-rf-results}FFT - Z - RF Validation Metrics}
\centering
\begin{tabular}[t]{lrrl}
\toprule
  & Sensitivity & Specificity & MultiClassAUC\\
\midrule
PATH\_IDLE & 0.8283327 & 0.9178841 & 0.958541152687514\\
PATH\_MOVING & 0.9040435 & 0.8546622 & 0.957539607389384\\
PATH\_TRANSITION & 0.7772546 & 0.9856907 & 0.988035313414058\\
SHUTTLE & 0.6121445 & 0.9911580 & 0.984988642683948\\
\bottomrule
\end{tabular}
\end{table}

\begin{table}[!h]

\caption{\label{tab:sensor-fft_z-rf-results}FFT - Z - RF Vaidation Confusion Matrix}
\centering
\begin{tabular}[t]{lrrrr}
\toprule
  & PATH\_IDLE & PATH\_MOVING & PATH\_TRANSITION & SHUTTLE\\
\midrule
PATH\_IDLE & 48672 & 10466 & 1829 & 1442\\
PATH\_MOVING & 8528 & 125116 & 2397 & 1814\\
PATH\_TRANSITION & 1013 & 1570 & 15186 & 372\\
SHUTTLE & 546 & 1244 & 126 & 5726\\
\bottomrule
\end{tabular}
\end{table}

\begin{table}[!h]

\caption{\label{tab:sensor-fft_z-rf-results}FFT - Z - RF Vaidation LogLoss}
\centering
\begin{tabular}[t]{r}
\toprule
x\\
\midrule
NA\\
\bottomrule
\end{tabular}
\end{table}

\begin{figure}
\centering
\includegraphics{CHP4_RF_Results_files/figure-latex/plot_sensor-fft_z-roc-1.pdf}
\caption{FFT - Z - ROC using 4 Binary ROC Curves}
\end{figure}


\end{document}
